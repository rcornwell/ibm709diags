                                                              9B03B
                                                              2-01-59
                                                              PAGE 1.001

                                    9B03B


                         BUFFER-WORST CASE B TIME TEST


A.  UNIT TESTED

    1.  PURPOSE OF TEST

        A.  THIS TEST WAS WRITTEN TO TEST MAXIMUM DELAY IN B TIME AND
            PRIORITY CIRCUITS IN THE 766 DATA SYNCHRONIZER.

        B.  A TEST OF DATA SYNCHRONIZER AND TAPE CONTROL UNIT OPERATIONS
            IS ALSO INCLUDED.

        C.  THIS LEVEL DIFFER FROM A LEVEL IN TWO WAYS.

            1. THE A LEVEL ACCOMPLISHED THE WORST CASE B TIME ONLY IF 6
               DSCS WERE TESTED.

               A NEW ROUTINE HAS BEEN ADDED WHICH ADDS A NUMBER OF TCH
               CHANNEL COMMANDS DEPENDING ON THE NUMBER OF BUFFERS BEING
               TESTED TO ESTABLISH WORST CASE FOR ANY NUMBER OF BUFFERS.

            2. A ROUTINE WAS ALSO ADDED WHICH STORES THE CONTENTS OF
               EACH CHANNEL AND CHEKCS THE CONTENTS OF THE LOCATION
               REGISTER AND ADDRESS REGISTER, CONTINUOUSLY, WHILE
               READING.
               IF THE CONTENTS OF ANY CHANNEL BECOME LARGER THEN THEY
               SHOULD, THE CHANNEL WILL BE RESET WITH ZEROS AND A HALT
               WILL OCCUR, WITH THE ERROR INFORMATION IN THE
               ACCUNMULATOR. THE INFORMATION DISPLAYED IN THE MQ WILL
               SHOW THE LARGEST ADDRESSES THE LOCATION REGISTER AND
               ADDRESS REGISTER SHOULD HAVE REACHED.

               IF AN ERROR OCCURS THE CONTENTS OF EITHER/OR THE ADDRESS
               REGISTER AND LOCATION REGISTER BECAME TOO LARGE.

    2.  METHOD OF TEST

        A.  A TEST OF DS AND TCU OPERATIONS IS MADE ON EACH DSC
            SELECTED.

        B.  ONE HUNDERED 101 WORD RECORDS ARE WRITTEN ON TAPE UNIT 2 OF
            DSC A AND TAPE UNIT 1 OF EACH OTHER DSC SELECTED. 100 OF
            THESE RECORDS ARE BACKSPACED OVER. RECORDS ARE READ ONE AT
            A TIME AND INFORMATION CHECKED FOR ERROR.

        C.  THE STANDARD DIAGNOSTIC PRINT SUBROUTINE WILL BE USED THROUGHOUT.

B.  MF, CD, 1, 2, OR 3 BUFFERS, 1 TAPE UNIT PER DSC

    2. STORAGE LOCATION


                                                              9B03B
                                                              2-01-59
                                                              PAGE 1.002

       A. 9B03                      0030-6300
          9DEPRA                    6500-7663

C.  PROGRAM CONTROL

    1.  DECK       000              9LD01A BINARY LOADER
                   001-124          PROGRAM CARDS - 9B03
                   125-153          PROGRAM CARDS - 9DEPRA
                   154              TRANSFER CARD-TRA 0030
                   155-156          BLANK CARDS

    2.  SENSE SWITCH CONTROL

        SWITCH 1 UP - CONTINUE
               1 DN - LOOP CONTINUOUSLY IN SECTION

        SWITCH 2 UP - INDICATE ERROR
               2 DN - BYPASS ERROR

        SWITCH 3 UP - PRINT ERROR
               3 DN - HALT ON ERROR

        SWITCH 4 UP - CONTINUE
               4 DN - LOOP 50 TIMES IN EACH ROUTINE

        SWITCH =5 UP - PROGRAM WILL MAKE ONE PASS THROUGH THE SECTION
                       WHICH CONTINUOUSLY STORES AND CHECKS DSC CONTENTS.
                  DN - REPEAT TEST BY RETURNING TO INITIAL HALT TO
                       ENTER CONTROL.

        NOTE           SWITCH =5 MUST BE DOWN TO PERFORM WORST CASE
                       SECTION

        SWITCH =6 UP - READ IN NEXT PROGRAM.

                  DN  - REPEAT TEST BY RETURNING TO INITIAL HALT TO ENTER
                        CONTROL.

D.  NORMAL STOPS

    1.  HALT AT 0037 TO ENTER KEYS FOR I/O SELECTION

        THE TAG KEYS ARE THE ONLY KEYS USED

        KEY 20 - TAPE UNIT 2 ON CHANNELS A AND B
            19 - TAPE UNIT 1 ON CHANNELS C AND D
            18 - TAPE UNIT 1 ON CHANNELS E AND F


E.  ERROR STOPS

    1.  NO TAG KEYS DOWN - 00045 - ENTER TAG KEY AND PRESS START.

    2.  WITH SWITCH =5 UP - 02650 - CONTENTS OF LOCATION REGISTER OR
        LOCATION REGISTER BECAME TOO LARGE. PRESS START TO GO BACK
        TO BEGIN SECTION AGAIN.

    3.  WITH SWITCH =3 DOWN - 06517 - OR - 06545 - ERROR IN 9DEPRA

                                                              9B03B
                                                              2-01-59
                                                              PAGE 1.003


        DISPLAY XRC FOR 2S COMPLEMENT OF ERROR LOCATION. PRESS START
        TO CONTINUE.

    NOTE -- IF A HALT OCCURS AT SECOND STOP LISTED. THE BUFFER MAY HAVE
            TO BE RESET MANUALLY -SEE ADDED COMMENTS IN LISTING AT HALT
            LOCATION.

F.  I/O SELECTION

    NOTE 9IOM I/O MODIFICATION IS NOT USED. ONLY TAPE UNIT 2 ON CHANNEL
         A, WILL BE USED. ALL OTHER CHANNELS WILL USE UNIT 1.

G.  PRINT OUTS

    1.  ERROR PRINTS FROM 9DEPRA WILL INCLUDE A MF TYPE PRINT OUT
        FOR ERRORS IN STORING CONTENTS OF DSC AND I/O TYPE PRINT OUTS
        FOR READ ERRORS.

H.  COMMENTS

    WE HOPE TO HIT A WORST CASE FOR B TIME AND PRIORITY CIRCUITS BY.

    1.  DURING READ OPERATION THE COMMANDS USED ARE IOCP-WC 1 WHICH WILL
        PICK UP A TCH TO THE NEXT IOCP-WC 1 ETC.. WHILE MF IS PERFORMING
        ANS. INDIRECTLY ADDRESSED

    2.  THE WORST CASE SHOULD BE WHEN SIX CHANNELS ARE CALLING FOR
        A B TIME ON AN INDIRECTLY ADDRESSED CONTROL WORD. WHILE A MF ANS
        INDIRECTLY ADDRESSED HOLDS UP THE 766. THIS WILL SERVE TO DELAY THE
        FIRST CHANNEL WHICH HAD PRIORITY FOR 200 US BEFORE IT CAN BE
        SERVICED.

    4.  EACH DSC HAS ITS OWN BCD CHARACTER IN THE MIDDLE TWO CHARACTERS OF
        EACH WORD TRANSMITTED. TO ENABLE THE OPERATOR TO SEE FROM AN ERROR
        PRINT IF A DSC READ INTO THE WRONG READ IN AREA. CHANNEL A, BCD A.
        CHANNEL B BCD B. CHANNEL C, BCD C. ETC.

    EXAMPLE 010121210101 - CHANNEL A
            010122220101 - CHANNEL B
            010123230101 - CHANNEL C
            010124240101 - CHANNEL D
            010125250101 - CHANNEL E
            010126260101 - CHANNEL F

    5.  IF LESS THEN 6 DSCS ARE SELECTED THE CONTROL WORDS WHICH APPEAR
        IN THE LISTING WILL NOT APPEAR THE SAME IN STORAGE. BECAUSE OF
        THE ADDITION OF THE TCH INSTRUCTIONS. THE LOCATIONS CHANGED
        ARE 04472-06063.

    6.  THE ADDED SECTION OF THE PROGRAM WHICH CONTINUOUSLY TESTS THE
        CONTENTS OF THE CHANNELS, WILL NOT BE ENTERED UNLESS SWITCH =5
        IS UP.


\l
File Attachments:   Source \Asource\a    Cards \Acard\a      Deck \Adeck\a

