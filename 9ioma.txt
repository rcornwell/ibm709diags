                                                       9IOMA
                                                       7-01-58
                                                       PAGE 1.001



                             9 I O M A
  709 DIAGNOSTIC ENGINEERING I/O INSTRUCTION MODIFICATION SUBROUTINE

A. PURPOSE OF ROUTINE
    1.  THIS SUBROUTINE ALLOWS A DIAGNOSTIC TEST TO BE WRITTEN WITH A
        MINIMUM NUMBER OF CHANNELS AND UNITS CALLED OUT, AND BY USING
        THIS SUBROUTINE TO MODIFY THE ORIGINAL PROGRAM, THE OPERATOR
        CAN TEST A DESIRED NUMBER OF UNITS UP TO THE FULL COMPLEMENT OF
        THE INSTALLATION--  MAXIMUM OF THREE DSW

B. FUNCTION

    1.  9IOM WILL EXAMINE EACH INSTRUCTION IN A SPECIFIED PROGRAM AREA,
        WILL CLASSIFY IT AS AN I/O OR NON-I/O, AND IF IT IS FOUND TO BE
        AN I/O INSTRUCTION WILL REPLACE IT WITH AN INSTRUCTION REFERRING
        TO THE NEXT TEST UNIT AND CHANNEL

    2.  THIS SUBROUTINE CAUSES THE MAIN PROGRAM TO HALT ENABLING THE
        OPERATOR TO ENTER KEYS WITH ONE OR MORE CONTROL WORDS SPECIFYING
        THE CHANNELS TO BE TESTED AND THE NUMBER OF UNITS ON EACH CHANNEL

    3.  THE TOTAL NUMBER OF UNITS ON ALL CHANNELES IS HELD IN SYMBOLIC
        LOCATION IOCT. THE NUMBER OF TAPE UNITS FOR EACH CHANNEL IS
        STORED -- CHANNEL A IN SYMBOLIC LOCATION CTRA, CHANNEL B IN
        CTRB, ETC.

C. RESTRICTION

    1.  EACH TIME THE SUBROUTINE IS ENTERED, IT WILL RAISE THE I/O
        INSTRUCTIONS IN ITS AREA ONE LEVEL OF UNIT AND/OR CHANNEL. AFTER
        ALL UNITS SPECIFIED IN CONTROL WORDS HAVE BEEN USED IN THE
        PROGRAM, THE NEXT ENTRY TO 9IOM WILL REPLACE THE I/O INSTRUCTIONS
        WITH THE FIRST UNIT CALLED BY CONTROL WORDS. THIS LOOPING ACTION
        WILL OCCUR AS LONG AS ENTRIES TO 9IOM ARE CONTINUED AND THE
        MAIN PROGRAM MUST INCLUDE A MEANS OF CONTROLLING THE NUMBER OF
        ENTRIES

D. USE
    THERE ARE THREE ENTRIES TO 9IOM EACH WITH ITS OWN EXIT LINKAGE FROM
    THE MAIN PROGRAM, IN SYMBOLIC NOTATION, AS FOLLOWS

    1. LINKAGE TO 9IOM FOR STOPS TO ENTER THE CONTROL WORDS FOR UNITS

                                                       9IOMA
                                                       7-01-58
                                                       PAGE 1.002

       TO BE TESTED

            TSX IOC,4

       THE RETURN ADDRESS FOR CONTINUATION OF THE PROGRAM WILL BE THE
       EXECUTION OF INSTRUCTIONS FOLLOWING THE TSX. SEE G. NORMAL STOPS
       FOR DETAILS OF STOPS TO ENTER KEYS.

    2. LINKAGE TO 9IOM FOR MODIFYING AN AREA OF I/O INSTRUCTIONS

            TSX CTX,4
            HTR X,0,Y

    3. LINKAGE TO 9IOM FOR RELOADING THE UNIT COUNT FROM THE CONTROL
       WORDS

            TSX IOCNT,4

       THE RETURN WILL BE THE EXECUTION OF INSTRUCTIONS FOLLOWING THE TSX.

E. STORAGE

    1. 05500 - 06476  MAY BE RELOCATED

F. PROGRMA CONTROL

    1. DECK 001 - 024 9IOM

    2. NO SENSE SWITCHES USED IN 9IOM

G. NORMAL STOPS

    THERE ARE THREE POSSIBLE NORMAL STOPS AT THE BEGINNING OF THE
    PROGRAM TO ENABLE THE OPERATOR TO KEY IN CONTROL WORDS INDICATING
    UNITS TO BE TESTED. SEE CONTROL WORD FORMAT FOR MAKE-UP OF WORD

    1. 05517 FIRST STOP - ENTER KEYS CALLING FOR ALL UNTIS TO BE TESTED
       ON CHANNEL A AND/OR B. INCLUDE TAG BITS AT THIS THIME FOR ALL
       DSU TO BE USED.

          TAG 1 - DSU 1, CHANNELS A AND B

          TAG 2 - DSU 2, CHANNELS C AND D

                                                       9IOMA
                                                       7-01-58
                                                       PAGE 1.003


          TAG 4 - DSU 3, CHANNELS E AND F

       PRESS START TO CONTINUE.

    2. 05533 IF FIRST STOP ABOVE INCLUDED A TAG BIT 2 ENTER KEYS HERE
       FOR ALL UNITS TO BE TESSTED ON CHANNEL C AND/O D. WILL NOT 
       STOP HERE IF NO TAG BIT 2 IN FIRST CONTROL WORD.

       PRESS START TO CONTINUE.

    3. 05540 IF FIRST STOP - 5517 - INCLUDED A TAG BIT 4 ENTER KEYS
       HERE FOR ALL UNITS TO BE TESSTED ON CHANNEL E AND/O F. WILL
       NOT STOP HERE IF NO TAG BIT 4 IN FIRST CONTROL WORD.

       PRESS START TO CONTINUE.

    
H. ERROR STOPS

    1. 05525 INDICATES CONTROL WORD ENTERED AT 05517 CONTIANED NO TAG
       BITS. ENTER ON KEYS CORRECTED FIRST CONTROL WORD AND PRESS START.

    2. 05720 INDICATES THE LOCATION OF THE INSTRUCTION CURRENTLY BEING
       MODIFIED IS HIGHER THEN THE LAST ADDRESS GIVEN IN THE HTR
       INSTRUCTION OF THE ENTRY LINKAGE - SEE D2 USE. SHOULD NEVER 
       REACH THIS ADDRESS. PRESSING START WILL CAUSE THE RETURN TO THE
       MAIN PROGRAM AND ITS CONTINUATION.
    
J. COMMENTS
    1. PRIOR TO ASSEMBLY OF A TEST PROGRAM, PROPER ORIGN OR EQUAL CARDS
       SHOULD BE PREPARED FOR SYMBOLIC REFERENCES TO ADDDRESSES IN 9IOM,
       AS FOLLOWS

            CTRL1		DEC        2880
            CTRL2                          2881
            CTRL3                          2882
            IOCT                           2883
            CTRA                           2884
            CTRB                           2885
            CTRC                           2886
            CTRD                           2887
            CTRE                           2888
            CTRF                           2889
            CTX                            2890
            IOCNT                          2891
            IOC                            2892
   


\l
File Attachments:   Source \Asource\a    Cards \Acard\a     


