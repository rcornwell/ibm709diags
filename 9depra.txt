                                                            9DEPRA
                                                            7/1/58
                                                            PAGE 1.001



                              9DEPRA

  709 DIAGNOSTIC ENGINEERING SENSE SWITCHES INTERROGATION AND PRINT SUBROUTINE

A. FUNCTION

   1. THIS DIAGNOSTIC SUBROUTINE WILL INTERROGATE SENSE SWITCHES AND PRINT A
      DETAILED ACCOUNT OF ERROR INDICATIONS THAT MAY OCCUR AS A RESULT OF
      RUNNING DIAGNOSTIC TEST ROUTINES.

   2. THE INFORMATION THAT IS PRINTED WILL INCLUDE THE TEST LOCATION, THE
      PRIMARY INSTRUCTION BEING TESTED IN SHARE MNEMONICS OPERATION CODES,
      THE LOCATIONW HERE THE ERROR WAS DETECTED IN THE PROGRAM, THE STATUS OF
      THE SENSE LIGHTS AND SWITCHES, THE CONTENTS OF THE ACCUMULATOR,
      QUOTIENT, SENSE INDICATORS, KEYS, INDEX REGISTERS, STATUS OF THE
      ACCUMULATOR OVERFLOW INDICATOR, TAPE REDUNDANCY INDICATORS AND TRAP
      TRIGGER INDICATOR.

   3. THE CONTENTS OF LOCATION ZERO IS PRINTED IN OCTALNARY CODE.

   4. WHEN AN INPUT-OUTPUT TYPE PRINT-OUT IS DESIRED, THE WORD WRITTEN OR
      GENERATED AND WORD READ ARE PRINTED IN OCTAL ALONG WITH THE WORD
      NUMBER AND RECORD NUMBER.

B. RESTRICTION

   INDEX REGISTER C IS USED IN THE SUBROUTINE. THIS PRINT SUB-ROUTINE MAY BE
   USED ONLY WITH TEST ROUTINES THAT HAVE BEEN WIRTTEN THAT INCLUDE THE BACK
   LINKAGE TO THE SUB-ROUTINE AS SPECIFIED IN PARAGRAPH C, USE.

C. USE

   1.  INSERT A BCD WORD OF THE SHARE MNEMONICS OPERATION CODE AT THE BEGINNING 
       OF EACH SECTION OF A TEST TO INDICATE THE PRIMARY IINSTRUCTION TO BE 
       TESTED. I.E. BCD 1CLA TEST INSTRUCTION-CLEAR AND ADD

   2.  THE BASIC LINKAGE TO SUBROUTINE IN SYMBOLIC NOTATION SHOULD BE AS
       FOLLOWS

           MAIN FRAME TEST                  I/O TEST

           TSX ERROR,4                      TSX ERROR-4,4
           TSX OK,4                         TSX OK,4
           TRA X                            TRA X

   3.  THE RETURN ADDRESS FOR CONTIUATION OF THE PROGRAM WILL BE THE
       EXECUTON OF INSTRUCTIONS BEYOND THE TRA X INSTRUCTION. FOR

                                                            9DEPRA
                                                            7/1/58
                                                            PAGE 1.002


       REPETITION OF THE SAME TEST, THE RETURN ADDRESS WILL BE TO ADDRESS X.
       WHERE THE ADDRESS X IN TRA X SPECIFIES THE START OF THE TEST NEGATION.

   4.  WHEN THE PROGRAM ENTERS THE TSX ERROR,4 INSTRUCTION, IT WILL CAUSE
       A MAIN FRAME TYPE PTINT OUT, IF PRINTING IS DESIRED. ENTRY TO THE 
       TSX ERROR-4,4 INSTRUCTION WILL PRODUCE AND I/O TYPE PRINT-OUT.

   5.  ENTRY TO THE TSX OK,4 INSTRUCTION WILL CAUSE INTERROGATION OF THE
       SENSE SWITCHES FOR REPETITION OF THE TEST OF CONTINUATION OF THE 
       PROGRAM.

            MAIN FRAME TEST                  I/O TEST
            TSX ERROR-1,4                    TSX ERROR-2,4
            TRA X                            TRA X

   6.  WHEN ENTRY IS MADE TO THE ABOVE TSX INSTRUCTIONS, THE PROGRAM RETURNS
       FROM THE SUBROUTINE TO THE NEXT LOCATION IMMEDIATELY FOLLOWING THE
       TRA X INSTRUCTIONS. ADDRESS X SPECIFIES THE START OF THE TEST LOCATION.

   7.  WHEN THE TRA X INSTRUCTION IS CHANGE TO TXL X, ONLY ONE LINE IS
       PRINTED WHEN AN ERROR OCCURS.

   8.  IF A TEG OF 4 IS USED IN THE INSTRUCTION. E.G. TXL X,4 WILL ACT AS
       A NOP IF EXECUTED.

   9.  TO INTERROGATE TAPE REDUNDANCY ERROR THE LINKAGE SHOULD BE

                                  TSX RDNCK,4
                                  TRA X

       THE RETURN PROCEDURE IS THE SAME AS EXPLAINED UNDER C6.

   10. WHEN WRITING AN I/O TEST, INDEX REGISTER A SHOULD BE USED FOR THE WORD
       COUNT OF EACH RECORD AND INDEX REGISTER B SHOUL DBE USED FOR THE RECORD
       COUNT WHERE POSSIBLE. THE TOTAL WORD COUNT +1 AND RECORD COUNT +1 SHOULD
       BE STORED IN SYMBOLIC LOCATIONS WDNO AND RECNO RESPECITVELY PRIOR TO 
       ENTRY TO THE BASIC LINKAGE OF THE SUBROUTINE.

   11. WHENEVER A ROUTINE USES THE TRAPPING MODE, THE BCD SHARE OPERATION
       SHOULD BE FOLLOWED BY A HYPHEN. I.E. BCD 1ETM- TEST INST ENTER TRAPPING 
       MODE.

PROGRAM CONTROL

1. DECK

        000-020  PLACE BINARY DECK IMMEDIATELY BEFORE TRA CARD
                 OF THE ASSEMBLED PROGRAM TO BE TESTED.

2. SENSE SWITCH CONTROL

                                                            9DEPRA
                                                            7/1/58
                                                            PAGE 1.003


           SSW 1 UP - TEST SENSE SW 4
           SSW 1 DN - REPEAT TEST LOOP
           SSW 2 UP - INDICATE ERRORS - TEST SSW 3 TO PRINT OR HALT
           SSW 2 DN - BY-PASS ERROR INDICATIONS - TEST SSW 1
           SSW 3 UP - PRINT ON ERROR IF SSW 2 IS UP THEN TEST SSW 1
           SSW 3 DN - STOP ON ERROR IF SSW 2 IS UP THEN TEST SSW 1
           SSW 4 UP - PROCEED TO NEXT TEST
           SSW 4 DN - REPEAT SECTION N TIMES OR IF ERROR OCCURRED-GO TO NEXT
                      SECTION
           SSW 6 UP - END TEST - CALL IN NEXT TESST
           SSW 6 DN - REPEAT ENTIRE PROGRAM

E. ERROR STOPS
   6517    ERROR IN MAIN PROGRAM WITH SENSE SWITCH 3 DOWN. INDEX REGISTER C
   OR      CONTAINS THE 2,S COMPLEMENT OF THE ADDRESS WHERE THE ERROR WAS
   6545    DETECTED. TO CONTINUE PROGRAM PUSH START.

F. STORAGE

           6500-07722 MAY BE RELOCATABLE

G. PRINTS-OUTS

           THERE ARE FOUR TYPES OF PRINT-OUTS, AS FOLLOWS

    1.                      MAIN FRAME PRINT-OUT
TEST LOCL 00031, OPN STP   ,ERROR LOC 00052, 0 LOC 402000000031,SW 000000
LITE 0000, MQ 0000001010101, XRA 00001, XRB 00001, XRC 07726,  TRAP TRG 0
ACC +,Q 0,P 0,3000001010101, DIV CK 0, ACC OVLF 0,
INDS 0000000000000, KEYS 002000000030

 A. TEST LOC 00031                INDICATES THE START OF THE SECTION OF THE
                                  PROGRAM IN ERROR. PROGRAM BEGINS AT
                                  LOCATION 00031

 B. OPN STP                       INDICATES THE PRIMARY SHARE OPERATION BEING
                                  TESTED. TEST INSTRUCTION IS STORE PREFIX

 C. ERROR LOC 00052               INDICATES THE LOCATION WHERE THE ERROR WAS
                                  DETECTED. ERROR IN PROGRAM OCCURRED AT
                                  LOCATION 00052
D. PSE SW 000000,                 INDICATES THE STATUS OF THE SIX SENSE 
                                  SWITCHES A 0 IMPLES THAT THE SWITCH IS UP
                                  AND A 1 IMPLIES THAT THE SWITCH IS DOWN.
                                  SENSE SWITCHES AND SENSE LIGHTS ARE ?????
                                  SEQUENTIALLY FROM LEFT TO RIGHT

E. LITE 0000                      A BINARY 1 IMPLIES THAT A LIGHT IS ON, AND

                                                            9DEPRA
                                                            7/1/58
                                                            PAGE 1.004

                                  A BINARY 0 IMPLIES THAT A LIGHT IS OFF

F. THE CONTENTS OF THE ACCUMULATOR, MQ, SENSE INDICATORS, KEYS AND INDICES
   ARE IN OCTAL. THE MQ WILL GENERALY CONTAIN THE CORRECT CONTENTS AND THE
   ACC WILL CONTAIN THE ERROR CONTENTS

  2.                           I/O PRINT - OUT

TEST LOC 00202, OPN RTBA 1 ,ERROR LOC 00230, 0 LOC 000000100001,SW 000000
MSE 0000,  COMP ERROR, WORD GENERATED 010 000 101 100 001 001 100 111 011 011
XEC 00001, WORD 00002, WORD READ      100 000 101 100 001 001 100 111 011 011
INDS 000000000000, KEYS 000000000000

    A. OPN RTBA 1                    INDICATES THE THE ERROR OCCURED AS A 
                                     RESULT OF READING TAPE 1 IN BINARY ON
                                     CHANNEL A

    B. WORD GENERATED                REFERS TO THE WORD WRITTEN OR GENERATED IN
                                     STORAGE THAT IS BEING COMPARED TO THE WORD
                                     READ FROM TAPE UNIT 1

    C. WORD READ                     INDICATES THE WORD OF THE RECORD THAT WAS
                                     READ INTO STORAGE IN ERROR FROM TAPE 1

    D. MSE 0000                      INDICATES THE STATUS OF THE 4 SENSE LIGHTS

       WHEN SENSE SWITCH 3 IS DOWN, THE MQ WILL CONTAIN THE CORRECT
       WORD AND THE ACC WILL CONTAIN THE WORD READ


       3.                 TAPE REDUNDANCY PRINT - OUT

TEST LOC 01204, OPN RTBA  ,ERROR LOC 01230, 0 LOC 000026007650,SW 000001
INDS 000000000000, KEYS 002000001251,TAPE CK-DSU A 0,B 1,C 0,D 0,E 0,F 0

       4.                    ONE LINE PRINT - OUT


TEST LOC 01224, OPN TCOA  ,ERROR LOC 01226, 0 LOC 000026007650,SW 000001

G COMMENTS

  1.  PRIOR TO ASSEMBLY OF A TEST ROUTINE, PROPER ORIGIN OR EQUAL CARDS SHOULD
      BE PREPARED FOR SYMBOLIC REFERENCES TO ADDRESSES IN THE SUBROUTINE, I.E.
      OK, ERROR, KONST, WDNO, RDNCK, RECNO- REFER TO SUBROUTINE LISTING.
  2.  IF SENSE SWITCH 4 IS DOWN AND NO ERRORS OCCUR EACH SECTION OF THE

      PROGRAM IS REPEATED THE NUMBER OF TIMES THAT IS SPECIFIED IN SYMBOLIC
      LOCATION KONST+2. TO CHANGE THE COUNT FROM 50 OCTAL TO ANY DESIRED 
      COUNT, PUT CONTENTS IN KONST+1 AND KONST+2.







\l
File Attachments:   Source \Asource\a    Cards \Acard\a

